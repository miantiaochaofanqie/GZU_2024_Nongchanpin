{"remainingRequest":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\src\\views\\ReportPage\\Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\src\\views\\ReportPage\\Report.vue","mtime":1723618307362},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1722853423188},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1722853422683},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1722853423188},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1722853427091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgeyBSZXBvcnQgfSBmcm9tICJAL2FwaS9SZXBvcnQiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQYzJGYkVjaGFydHMiLA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHJvbGVEYXRhOiBudWxsLCAvLyDlrZjlgqjljp/lp4vmlbDmja4NCiAgICB9Ow0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5mZXRjaERhdGEoKTsgLy8g5Zyo57uE5Lu25oyC6L295ZCO6I635Y+W5pWw5o2uDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGZldGNoRGF0YSgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFJlcG9ydCgpOw0KICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBEYXRhOicsIHJlcy5kYXRhKTsvLyDku47lkI7nq6/ojrflj5bmlbDmja4NCiAgICAgICAgdGhpcy5yb2xlRGF0YSA9IHJlcy5kYXRhLm1hcChpdGVtID0+ICh7DQogICAgICAgICAgbmFtZTogaXRlbS50aXRsZSwNCiAgICAgICAgICB2YWx1ZTogaXRlbS50b3RhbF9wcmljZSwNCiAgICAgICAgfSkpOyAvLyDlsIbmlbDmja7ovazmjaLkuLogRUNoYXJ0cyDmiYDpnIDmoLzlvI8NCiAgICAgICAgdGhpcy5kcmF3UGllQ2hhcnQoKTsgLy8g57uY5Yi26aW854q25Zu+DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICB9DQogICAgfSwNCg0KICAgIGRyYXdQaWVDaGFydCgpIHsNCiAgICAgIGlmICghdGhpcy5yb2xlRGF0YSkgcmV0dXJuOw0KICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEIGRvbe+8jOWIneWni+WMliBlY2hhcnRzIOWunuS+iw0KICAgICAgbGV0IG15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm15Q2hhcnQiKSk7DQogICAgICAvLyDnu5jliLblm77ooagNCiAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICB0ZXh0OiAi5ZWG5ZOB6ZSA5ZSu5Lu35qC85YiG5biDIiwNCiAgICAgICAgICBsZWZ0OiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgIHRyaWdnZXI6ICJpdGVtIiwNCiAgICAgICAgICBmb3JtYXR0ZXI6ICJ7YX0gPGJyLz57Yn06IHtjfSAoe2R9JSkiLA0KICAgICAgICB9LA0KICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICB0b3A6ICIxMCUiLA0KICAgICAgICAgIGxlZnQ6ICJjZW50ZXIiLA0KICAgICAgICB9LA0KICAgICAgICBjb2xvcjogWycjNmViMTU4JywgJyNjZGNkY2QnLCAnIzNmOGNmZicsICcjZmY3ZjUwJywgJyM4N2NlZmEnLCAnI2RhNzBkNicsICcjMzJjZDMyJywgJyM2NDk1ZWQnLCAnI2ZmNjliNCddLA0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBuYW1lOiAi5ZWG5ZOB5Lu35qC8IiwNCiAgICAgICAgICAgIHR5cGU6ICJwaWUiLA0KICAgICAgICAgICAgcmFkaXVzOiAiNTAlIiwNCiAgICAgICAgICAgIGRhdGE6IHRoaXMucm9sZURhdGEsIC8vIOS9v+eUqOi9rOaNouWQjueahOaVsOaNrg0KICAgICAgICAgICAgZW1waGFzaXM6IHsNCiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsDQogICAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMCwNCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogInJnYmEoMCwgMCwgMCwgMC41KSIsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgICAgZm9ybWF0dGVyOiAie2J9OiB7Y30gKHtkfSUpIiwNCiAgICAgICAgICAgICAgcmljaDoge30sDQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;AAKA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Report.vue","sourceRoot":"src/views/ReportPage","sourcesContent":["<template>\r\n  <div id=\"myChart\" :style=\"{ width: '800px', height: '500px' }\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { Report } from \"@/api/Report\";\r\n\r\nexport default {\r\n  name: \"Pc2FbEcharts\",\r\n\r\n  data() {\r\n    return {\r\n      roleData: null, // 存储原始数据\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.fetchData(); // 在组件挂载后获取数据\r\n  },\r\n\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        const res = await Report();\r\n        console.log('Fetched Data:', res.data);// 从后端获取数据\r\n        this.roleData = res.data.map(item => ({\r\n          name: item.title,\r\n          value: item.total_price,\r\n        })); // 将数据转换为 ECharts 所需格式\r\n        this.drawPieChart(); // 绘制饼状图\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    drawPieChart() {\r\n      if (!this.roleData) return;\r\n      // 基于准备好的 dom，初始化 echarts 实例\r\n      let myChart = this.$echarts.init(document.getElementById(\"myChart\"));\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: {\r\n          text: \"商品销售价格分布\",\r\n          left: \"center\",\r\n        },\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b}: {c} ({d}%)\",\r\n        },\r\n        legend: {\r\n          top: \"10%\",\r\n          left: \"center\",\r\n        },\r\n        color: ['#6eb158', '#cdcdcd', '#3f8cff', '#ff7f50', '#87cefa', '#da70d6', '#32cd32', '#6495ed', '#ff69b4'],\r\n        series: [\r\n          {\r\n            name: \"商品价格\",\r\n            type: \"pie\",\r\n            radius: \"50%\",\r\n            data: this.roleData, // 使用转换后的数据\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\",\r\n              },\r\n            },\r\n            label: {\r\n              formatter: \"{b}: {c} ({d}%)\",\r\n              rich: {},\r\n            },\r\n          },\r\n        ],\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}