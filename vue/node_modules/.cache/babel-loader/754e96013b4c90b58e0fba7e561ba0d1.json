{"remainingRequest":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\src\\views\\PurchasePage\\purchaseDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\src\\views\\PurchasePage\\purchaseDetails.vue","mtime":1722853427840},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1722853423188},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1722853422683},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1722853423188},{"path":"C:\\Users\\lushu\\IdeaProjects\\SDU_2023_Nongchanpin37\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1722853427091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBhZGRPcmRlclRvQ2FydCB9IGZyb20gIi4uLy4uL2FwaS9jYXJ0IjsKaW1wb3J0IHsgc2VsZWN0T3JkZXJCeUlkIH0gZnJvbSAiLi4vLi4vYXBpL29yZGVyIjsKaW1wb3J0IENoYW5nZU1lc3NhZ2UgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9DaGFuZ2VNZXNzYWdlLnZ1ZSI7CmltcG9ydCB7IHNlbGVjdFVzZXJCeVVzZXJuYW1lIH0gZnJvbSAiLi4vLi4vYXBpL3VzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBvd25lckluZm86IHt9LAogICAgICB1c2VyR29vZHM6IFtdLAogICAgICB1cGRhdGVHb29kSW5mbzoge30sCiAgICAgIHVwZGF0ZVVzZXJEYXRhOiB7fQogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGNoYW5nZVRpbWU6IGZ1bmN0aW9uIGNoYW5nZVRpbWUodGltZSkgewogICAgICByZXR1cm4gdGltZS5zbGljZSgwLCAxMCk7CiAgICB9LAogICAgZm9ybWF0VGltZXI6IGZ1bmN0aW9uIGZvcm1hdFRpbWVyKHZhbHVlKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodmFsdWUpOwogICAgICB2YXIgeSA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE1NID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgTU0gPSBNTSA8IDEwID8gIjAiICsgTU0gOiBNTTsKICAgICAgdmFyIGQgPSBkYXRlLmdldERhdGUoKTsKICAgICAgZCA9IGQgPCAxMCA/ICIwIiArIGQgOiBkOwogICAgICB2YXIgaCA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgaCA9IGggPCAxMCA/ICIwIiArIGggOiBoOwogICAgICB2YXIgbSA9IGRhdGUuZ2V0TWludXRlcygpOwogICAgICBtID0gbSA8IDEwID8gIjAiICsgbSA6IG07CiAgICAgIHZhciBzID0gZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgIHMgPSBzIDwgMTAgPyAiMCIgKyBzIDogczsKICAgICAgcmV0dXJuIHkgKyAiLSIgKyBNTSArICItIiArIGQgKyAiICI7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDaGFuZ2VNZXNzYWdlOiBDaGFuZ2VNZXNzYWdlCiAgfSwKICBwcm9wczogewogICAgY3R5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgY2Rlc2NpaWJlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkU2hvcGNhcnRDbGljazogZnVuY3Rpb24gYWRkU2hvcGNhcnRDbGljaygpIHsKICAgICAgYWRkT3JkZXJUb0NhcnQoewogICAgICAgIG9yZGVyX2lkOiB0aGlzLmRhdGEub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgYWxlcnQocmVzLm1lc3NhZ2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgYWxlcnQoIua3u+WKoOWksei0pSzor7flhYjnmbvlvZUiKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlSW5mbzogZnVuY3Rpb24gY2hhbmdlSW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlQ2hhbmdlZE9yZGVySWQiLCB0aGlzLiRzdG9yZS5zdGF0ZS5jaGFuZ2VkT3JkZXJJZCk7CiAgICAgIHNlbGVjdE9yZGVyQnlJZCh7CiAgICAgICAgb3JkZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmNoYW5nZWRPcmRlcklkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnVwZGF0ZUdvb2RJbmZvID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTYWxlc0luZm86IGZ1bmN0aW9uIGdldFNhbGVzSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBzZWxlY3RVc2VyQnlVc2VybmFtZSh7CiAgICAgICAgdXNlcl9uYW1lOiB0aGlzLmRhdGEub3duTmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIudXBkYXRlVXNlckRhdGEgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlQWN0aXZlSW5kZXgiLCAiMyIpOwogICAgc2VsZWN0T3JkZXJCeUlkKHsKICAgICAgb3JkZXJfaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVySWQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmZsYWcgPT0gdHJ1ZSkgewogICAgICAgIF90aGlzMy5kYXRhID0gcmVzLmRhdGE7CgogICAgICAgIF90aGlzMy5nZXRTYWxlc0luZm8oKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["purchaseDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"details-box\">\r\n    <h4 class=\"title\">{{ data.title }}</h4>\r\n    <div class=\"time\">\r\n      <span>发布时间：{{ data.createTime | changeTime }}</span>\r\n      <span style=\"margin-left: 50px;\">最近修改时间：{{ data.updateTime | changeTime }}</span>\r\n      <div class=\"item-style\">\r\n        <el-button type=\"danger\" @click=\"addShopcartClick\" v-if=\"data.type == 'goods'\">加入购物车</el-button>\r\n        <el-popover placement=\"right\" width=\"320\" trigger=\"hover\">\r\n          <div>\r\n            <div class=\"item-sales\">买家姓名：<span class=\"sales-text\">{{data.ownName}}</span></div>\r\n            <div class=\"item-sales\">买家地址：<span class=\"sales-text\">{{data.address}}</span></div>\r\n            <div class=\"item-sales\">更新时间：<span class=\"sales-text\">{{data.updateTime | formatTimer}}</span></div>\r\n          </div>\r\n          <div style=\"color:#fc7373;margin-left:50px;cursor:pointer;display: flex;\" slot=\"reference\" @click=\"changeInfo\" v-show=\"data.type == 'needs'\">\r\n            <div style=\"margin-right:10px;color:#fff;font-weight:bold;background: #fc7373;width: 20px;height: 20px;border-radius: 10px;line-height: 20px;text-align: center;\">!</div>\r\n            买家信息\r\n          </div>\r\n        </el-popover>\r\n      </div>\r\n    </div>\r\n    <img :src=\"$store.state.imgShowRoad + '/file/' + data.picture\" v-show=\"data.picture\" alt=\"\" />\r\n    <div class=\"info\">\r\n      <div class=\"content\" :title=\"data.content\">{{ data.content }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addOrderToCart } from \"../../api/cart\";\r\nimport { selectOrderById } from \"../../api/order\";\r\nimport ChangeMessage from \"../../components/ChangeMessage.vue\";\r\nimport { selectUserByUsername } from \"../../api/user\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      data: [],\r\n      ownerInfo: {},\r\n      userGoods: [],\r\n      updateGoodInfo: {},\r\n      updateUserData:{}\r\n    };\r\n  },\r\n  filters: {\r\n    changeTime(time) {\r\n      return time.slice(0, 10);\r\n    },\r\n    formatTimer: function(value) {\r\n      let date = new Date(value);\r\n      let y = date.getFullYear();\r\n      let MM = date.getMonth() + 1;\r\n      MM = MM < 10 ? \"0\" + MM : MM;\r\n      let d = date.getDate();\r\n      d = d < 10 ? \"0\" + d : d;\r\n      let h = date.getHours();\r\n      h = h < 10 ? \"0\" + h : h;\r\n      let m = date.getMinutes();\r\n      m = m < 10 ? \"0\" + m : m;\r\n      let s = date.getSeconds();\r\n      s = s < 10 ? \"0\" + s : s;\r\n      return y + \"-\" + MM + \"-\" + d + \" \";\r\n    }\r\n  },\r\n  components: { ChangeMessage },\r\n  props: {\r\n    ctype: {\r\n      type: String,\r\n    },\r\n    cdesciibe: {\r\n      type: String,\r\n    },\r\n  },\r\n  methods: {\r\n    addShopcartClick() {\r\n      addOrderToCart({\r\n        order_id: this.data.orderId,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.flag == true) {\r\n            alert(res.message);\r\n          } else {\r\n            alert(res.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert(\"添加失败,请先登录\");\r\n        });\r\n    },\r\n    changeInfo() {\r\n      this.$store.commit(\"updateChangedOrderId\", this.$store.state.changedOrderId);\r\n      selectOrderById({\r\n        order_id: this.$store.state.changedOrderId,\r\n      })\r\n        .then((res) => {\r\n          this.updateGoodInfo = res.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    getSalesInfo(){\r\n      selectUserByUsername({\r\n        user_name: this.data.ownName,\r\n      }).then((res) => {\r\n        this.updateUserData = res.data;\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"updateActiveIndex\", \"3\");\r\n    selectOrderById({\r\n      order_id: this.$route.query.orderId,\r\n    }).then((res) => {\r\n      if (res.flag == true) {\r\n        this.data = res.data;\r\n\r\n        this.getSalesInfo()\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.details-box {\r\n  width: 1100px;\r\n  min-height: 100%;\r\n  height: auto;\r\n  margin: 20px auto;\r\n  padding: 20px;\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  // align-items: center;\r\n  img {\r\n    width: 360px;\r\n    height: 300px;\r\n    margin: 50px auto 20px;\r\n    border-radius: 6px;\r\n  }\r\n  .title {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    line-height: 35px;\r\n    max-height: 70px;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .time {\r\n    margin-top: 5px;\r\n    color: #999;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n  .info {\r\n    width: 100%;\r\n    min-height: 300px;\r\n    border-radius: 6px;\r\n    padding: 10px 20px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-content: center;\r\n    justify-content: center;\r\n    .content {\r\n      min-height: 100px;\r\n      // border: 1px dashed #f2f2f2;\r\n      line-height: 25px;\r\n      padding: 5px 10px;\r\n      /*超出的部分隐藏*/\r\n      overflow: hidden;\r\n      /*文字用省略号替代超出的部分*/\r\n      text-overflow: ellipsis;\r\n      /*弹性伸缩盒子模型显示*/\r\n      display: -webkit-box;\r\n      /*限制在一个块元素显示文本的行数*/\r\n      -webkit-line-clamp: 4;\r\n      /*设置或检索伸缩盒对象的子元素排列方式*/\r\n      -webkit-box-orient: vertical;\r\n    }\r\n    .item-style{\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      margin-top: 5px;\r\n    }\r\n  }\r\n  .item-sales{\r\n    color: #333 !important;\r\n    line-height: 30px;\r\n    max-height: 30px;\r\n    .sales-text{\r\n      color: #666;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/PurchasePage"}]}